<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:jedlab="http://java.sun.com/jsf/composite/comp">


	<!-- Navbar -->
	<ul class="w3-navbar w3-indigo w3-card-2 w3-top w3-left-align w3-large">
		<li class="w3-hide-medium w3-hide-large w3-opennav w3-right"><a
			class="w3-padding-menu-item w3-hover-white w3-large w3-green"
			href="javascript:void(0);" onclick="navViewport()"
			title="Toggle Navigation Menu"><i class="fa fa-windows"></i></a></li>

		<ui:fragment
			rendered="#{sec:areAnyGranted('ROLE_SUPERUSER') and sec:areNotGranted('ROLE_ADMIN')}">

			<li><a href="#{_ctx}/secure/dashboard" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['Home']}</a></li>

			<li class="w3-hide-small w3-dropdown-hover"><a
				title="اطلاعات پایه" class="w3-padding-menu-item w3-hover-white"
				href="javascript:void(0);"> <h:outputText value="اطلاعات پایه" />
					<i class="fa fa-arrow-down"></i>
			</a>

				<div class="w3-dropdown-content w3-white w3-card-4">

					<a href="#{_ctx}/secure/baseInfo/categoryList" onclick="w3_close()">#{msgs['merchant_category_list']}</a>
					<a href="#{_ctx}/secure/merchants/features/featureList" onclick="w3_close()">#{msgs['merchant_feature_list']}</a>


				</div></li>


			<li><a href="#{_ctx}/secure/users/usersList"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['User_List']}</a></li>

			<c:if test="#{securityBean.loggedIn and !securityBean.anonymous}">
				<li class="w3-hide-small w3-dropdown-hover"><a
					title="#{msgs['Merchant_Management']}"
					class="w3-padding-menu-item w3-hover-white"
					href="javascript:void(0);"> <h:outputText
							value="#{msgs['Merchant_Management']}" /> <i
						class="fa fa-arrow-down"></i>
				</a>

					<div class="w3-dropdown-content w3-white w3-card-4">

						<a href="#{_ctx}/secure/merchants/merchantList"
							onclick="w3_close()">#{msgs['Merchant_List']}</a> <a
							href="#{_ctx}/secure/terminals/terminalList" onclick="w3_close()">#{msgs['Terminal_List']}</a>
						<a href="#{_ctx}/secure/contracts/contractList"
							onclick="w3_close()">#{msgs['Contract_List']}</a>


					</div></li>
			</c:if>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/merchants/merchantMenuList"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['Merchant_Menu']}</a>
			</li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/merchants/menuCategoryList"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['Category']}</a>
			</li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/bills/billList" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['Bill']}</a></li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/merchants/services/serviceList"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">خدمات
					ویژه</a></li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/trx/transactionList" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['Transactions']}</a>
			</li>

			<li class="w3-hide-small w3-dropdown-hover"><a
				title="#{msgs['Setting']}"
				class="w3-padding-menu-item w3-hover-white"
				href="#{_ctx}/secure/settings/settingList"> <h:outputText
						value="#{msgs['Setting']}" /> <i class="fa fa-arrow-down"></i>
			</a>

				<div class="w3-dropdown-content w3-white w3-card-4">
					<a href="#{_ctx}/secure/settings/settingList" onclick="w3_close()">#{msgs['Merchant_Setting']}</a>

				</div>
			</li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/crm/crmNotificationList" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['CRM_Notification']}</a>
			</li>


			<li class="w3-hide-small w3-dropdown-hover"><a
				title="#{msgs['Basic_Data']}"
				class="w3-padding-menu-item w3-hover-white"
				href="javascript:void(0);"> <h:outputText
						value="#{msgs['Reports']}" /> <i class="fa fa-arrow-down"></i>
			</a>

				<div class="w3-dropdown-content w3-white w3-card-4">

					<a href="#{_ctx}/secure/reports/terminalDailyTrx"
						onclick="w3_close()">#{msgs['Terminal_Daily']}</a> <a
						href="#{_ctx}/secure/reports/menuSummary" onclick="w3_close()">#{msgs['Menu_Summary']}</a>


				</div></li>

		</ui:fragment>

		<ui:fragment
			rendered="#{(sec:areAnyGranted('ROLE_MERCHANT') or (sec:areAnyGranted('ROLE_STAFF'))) and (sec:areNotGranted('ROLE_ADMIN') or  sec:areNotGranted('ROLE_SUPERUSER'))}">

			<li><a href="#{_ctx}/secure/merchants/dashboard"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['Home']}</a></li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/merchants/merchantEdit?merchantId=#{securityBean.merchantId}"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['General_Info']}</a>
			</li>

			<li class="w3-hide-small w3-dropdown-hover">

				<a title="لیست ها" class="w3-padding-menu-item w3-hover-white"
					href="javascript:void(0);"> #{msgs['Lists']} <i
					class="fa fa-arrow-down"></i>
				</a>

				<div class="w3-dropdown-content w3-white w3-card-4">

					<a href="#{_ctx}/secure/printer/printerList" onclick="w3_close()"
							class="w3-bar-item w3-button ">#{msgs['Printer_List']}</a>

					<a href="#{_ctx}/secure/terminalCategory/terminalList" onclick="w3_close()"
					   class="w3-bar-item w3-button">#{msgs['Terminal_List']}</a>

				</div>
			</li>


			<ui:fragment rendered="#{merchantDashboard.merchantActived}">

				<li class="w3-hide-small w3-dropdown-hover"><a
					title="اطلاعات پایه" class="w3-padding-menu-item w3-hover-white"
					href="javascript:void(0);"> #{msgs['Merchant_Menu']} <i
						class="fa fa-arrow-down"></i>
				</a>

					<div class="w3-dropdown-content w3-white w3-card-4">

						<a href="#{_ctx}/secure/merchants/merchantMenuList"
							onclick="w3_close()">#{msgs['Merchant_Menu']}</a> <a
							href="#{_ctx}/secure/merchants/menuCategoryList"
							onclick="w3_close()">#{msgs['Category']}</a>


					</div></li>

                <ui:fragment>

                    <li class="w3-hide-small w3-dropdown-hover"><a
                            title="اطلاعات پایه" class="w3-padding-menu-item w3-hover-white"
                            href="javascript:void(0);"> #{msgs['Store']} <i
                            class="fa fa-arrow-down"></i>
                    </a>

                        <div class="w3-dropdown-content w3-white w3-card-4">

                            <a href="#{_ctx}/secure/merchants/store/measure/measureList"
                               onclick="w3_close()">#{msgs['Measure']}</a>

                            <a href="#{_ctx}/secure/merchants/store/goods/goodsList"
                               onclick="w3_close()">#{msgs['Goods']}</a>

							<a href="#{_ctx}/secure/merchants/store/storeList"
							   onclick="w3_close()">#{msgs['Store']}</a>

                            <a href="#{_ctx}/secure/merchants/store/accumulativeStoreList"
                               onclick="w3_close()">#{msgs['Accumulative_Goods_List']}</a>

                        </div>
                    </li>

                </ui:fragment>

				<ui:fragment rendered="true">
					<li class="w3-hide-small"><a
						href="#{_ctx}/secure/discounts/discountList" onclick="w3_close()"
						class="w3-bar-item w3-button w3-hover-white">#{msgs['Discount']}</a>
					</li>
				</ui:fragment>

				<li class="w3-hide-small"><a
					href="#{_ctx}/secure/bills/billList" onclick="w3_close()"
					class="w3-bar-item w3-button w3-hover-white">#{msgs['Bill']}</a></li>

				<li class="w3-hide-small"><a
					href="#{_ctx}/secure/merchants/services/serviceList"
					onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">خدمات
						ویژه</a></li>

				<li class="w3-hide-small"><a
					href="#{_ctx}/secure/merchants/transactionList"
					onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['Transactions']}</a>
				</li>

				<ui:fragment rendered="true">
					<li class="w3-hide-small w3-dropdown-hover"><a
						title="اطلاعات پایه" class="w3-padding-menu-item w3-hover-white"
						href="javascript:void(0);"> <h:outputText value="حسابرسی" />
							<i class="fa fa-arrow-down"></i>
					</a>

						<div class="w3-dropdown-content w3-white w3-card-4">

							<a href="#{_ctx}/secure/fund/fundList" onclick="w3_close()">#{msgs['Fund_Title']}</a>

							<a href="#{_ctx}/secure/merchants/fund/fundTransactionList"
								onclick="w3_close()">گردش های مالی</a> <a
								href="#{_ctx}/secure/merchants/fund/summary"
								onclick="w3_close()">گزارش مالی تجمیعی</a>

						</div></li>

				</ui:fragment>

				<li class="w3-hide-small"><a
					href="#{_ctx}/secure/settlements/settlementList"
					onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['Settlement']}</a>
				</li>

				<li class="w3-hide-small"><a
					href="#{_ctx}/secure/crm/crmNotificationList" onclick="w3_close()"
					class="w3-bar-item w3-button w3-hover-white">#{msgs['CRM_Notification']}</a>
				</li>

				<li class="w3-hide-small w3-dropdown-hover"><a
					title="#{msgs['Basic_Data']}"
					class="w3-padding-menu-item w3-hover-white"
					href="javascript:void(0);"> <h:outputText
							value="#{msgs['Reports']}" /> <i class="fa fa-arrow-down"></i>
				</a>

					<div class="w3-dropdown-content w3-white w3-card-4">

						<a href="#{_ctx}/secure/reports/terminalDailyTrx"
							onclick="w3_close()">#{msgs['Terminal_Daily']}</a> <a
							href="#{_ctx}/secure/reports/menuSummary" onclick="w3_close()">#{msgs['Menu_Summary']}</a>

					</div></li>
					
					<li class="w3-hide-small"><a
					href="#{_ctx}/secure/reserves/reserveList" onclick="w3_close()"
					class="w3-bar-item w3-button w3-hover-white">#{msgs['Reserve']}</a></li>
					
			</ui:fragment>


		</ui:fragment>

		<ui:fragment rendered="#{sec:areAnyGranted('ROLE_ADMIN')}">

			<li><a href="#{_ctx}/secure/dashboard" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['Home']}</a></li>
				
			<li><a href="#{_ctx}/secure/banks/bsList" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">صورت وضعیت</a></li>

			<li class="w3-hide-small w3-dropdown-hover"><a
				title="#{msgs['User_Management']}"
				class="w3-padding-menu-item w3-hover-white"
				href="javascript:void(0);"> <h:outputText
						value="#{msgs['User_Management']}" /> <i class="fa fa-arrow-down"></i>
			</a>

				<div class="w3-dropdown-content w3-white w3-card-4">

					<a href="#{_ctx}/secure/users/usersList" onclick="w3_close()">#{msgs['User_List']}</a>

					<a href="#{_ctx}/secure/persons/personList" onclick="w3_close()">#{msgs['Person_List']}</a>

					<a href="#{_ctx}/secure/roles/rolesList" onclick="w3_close()">#{msgs['Role_List']}</a>

					<a href="#{_ctx}/secure/roles/permissionList" onclick="w3_close()">#{msgs['Permission_List']}</a>

				</div></li>

			<c:if test="#{securityBean.loggedIn and !securityBean.anonymous}">
				<li class="w3-hide-small w3-dropdown-hover"><a
					title="#{msgs['Merchant_Management']}"
					class="w3-padding-menu-item w3-hover-white"
					href="javascript:void(0);"> <h:outputText
							value="#{msgs['Merchant_Management']}" /> <i
						class="fa fa-arrow-down"></i>
				</a>

					<div class="w3-dropdown-content w3-white w3-card-4">

						<a href="#{_ctx}/secure/merchants/merchantList"
							onclick="w3_close()">#{msgs['Merchant_List']}</a> <a
							href="#{_ctx}/secure/contracts/contractList" onclick="w3_close()">#{msgs['Contract_List']}</a>

						<a href="#{_ctx}/secure/terminals/terminalList"
							onclick="w3_close()">#{msgs['Terminal_List']}</a> <a
							href="#{_ctx}/secure/settlements/settlementList"
							onclick="w3_close()">#{msgs['Settlement_List']}</a>

					</div></li>
			</c:if>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/merchants/merchantMenuList"
				onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">#{msgs['Merchant_Menu']}</a>
			</li>


			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/trx/transactionList" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['Transactions']}</a>
			</li>

			<li class="w3-hide-small">

					<a href="#{_ctx}/secure/settings/settingList" onclick="w3_close()"
					   class="w3-bar-item w3-button w3-hover-white">#{msgs['Setting']}</a>



			</li>
			<li class="w3-hide-small">

			<a href="#{_ctx}/secure/settings/discountConfigList"
			   class="w3-bar-item w3-button w3-hover-white">#{msgs['discount_Setting']}</a>
			</li>

			<li class="w3-hide-small"><a
				href="#{_ctx}/secure/crm/crmNotificationList" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['CRM_Notification']}</a>
			</li>


			<li class="w3-hide-small w3-dropdown-hover"><a
				title="#{msgs['Basic_Data']}"
				class="w3-padding-menu-item w3-hover-white"
				href="javascript:void(0);"> <h:outputText
						value="#{msgs['Reports']}" /> <i class="fa fa-arrow-down"></i>
			</a>

				<div class="w3-dropdown-content w3-white w3-card-4">

					<a href="#{_ctx}/secure/reports/terminalDailyTrx"
						onclick="w3_close()">#{msgs['Terminal_Daily']}</a>


				</div></li>


		</ui:fragment>


		<li class="w3-hide-small"><c:if
				test="#{!securityBean.loggedIn or securityBean.anonymous}">
				<a href="#{_ctx}/login" onclick="w3_close()"
					class="w3-bar-item w3-button w3-hover-white">#{msgs['Login']}</a>
			</c:if> <c:if test="#{securityBean.loggedIn and !securityBean.anonymous}">
				<a href="#{_ctx}/logout" onclick="w3_close()"
					class="w3-bar-item w3-button w3-hover-white">#{msgs['Logout']}</a>
			</c:if></li>


		<ui:fragment
			rendered="#{(sec:areAnyGranted('ROLE_MERCHANT') or (sec:areAnyGranted('ROLE_STAFF')))}">
			<li class="w3-hide-small" style="float: left"><a
				href="#{_ctx}/secure/merchants/changePassword" onclick="w3_close()"
				class="w3-bar-item w3-button w3-hover-white">#{msgs['Change_Password']}</a>
			</li>



		</ui:fragment>


	</ul>

	<!-- Navbar on small screens -->
	<div id="navDemo" class="w3-hide w3-hide-large w3-hide-medium w3-top"
		style="margin-top: 51px; z-index: 9999">
		<ul class="w3-navbar w3-right-align w3-large w3-black">
			<li><a href="#{_ctx}/secure/bills/billList" onclick="w3_close()"
				class="w3-padding-menu-item">#{msgs['Bill_List']}</a></li>

			<li><a href="#{_ctx}/secure/trx/transactionList"
				onclick="w3_close()" class="w3-padding-menu-item">#{msgs['Transaction_List']}</a>

			</li>

			<li><a href="#{_ctx}/secure/crm/crmNotificationList"
				onclick="w3_close()" class="w3-padding-menu-item">#{msgs['CRM_Notification']}</a>
			</li>

			<li><c:if
					test="#{!securityBean.loggedIn or securityBean.anonymous}">
					<a href="#{_ctx}/login" onclick="w3_close()"
						class="w3-padding-menu-item">#{msgs['Login']}</a>
				</c:if> <c:if test="#{securityBean.loggedIn and !securityBean.anonymous}">
					<a href="#{_ctx}/logout" onclick="w3_close()"
						class="w3-padding-menu-item">#{msgs['Logout']}</a>
				</c:if></li>


		</ul>
	</div>


	<script>
		// Used to toggle the menu on small screens when clicking on the menu button
		function navViewport() {
			var x = document.getElementById("navDemo");
			if (x.className.indexOf("w3-show") == -1) {
				x.className += " w3-show";
			} else {
				x.className = x.className.replace("w3-show", "");
			}
		}

		jQuery(document).ready(function() {
			jQuery("a.w3-bar-item.w3-button").each(function(i, item) {
				if (item.href == window.location)
					jQuery(this).addClass("w3-blue-grey");
			});
		});
	</script>
</ui:composition>

